@import('utils')

@keyframes blink
  0%
    opacity 1
  50%
    opacity 0

.noTransition
  vendor(transition, none)
#minus
  top 2.5vw
  left 2.5vw
  width 5em
  height 5em
  position absolute
  border-radius 100vw
  border 0.125em solid
  &:after
    content ''
    display block
    top 0
    left 0
    right 0
    bottom 0
    position absolute
    box-sizing border-box
    margin 47% 25%
#cancel
  z-index 3
  top 0
  position absolute
  right 3.75vh
  width 12.5vh
  height 12.5vh
  font-size 12.5vh
  bottom 0
  margin auto
  padding-top 0.1em
  line-height 12.5vh
.card
  border-radius 0.5em
  min-width 11em
  max-width 18em
  position relative
  top 0.15em
  height 4em
  margin 0.75em
  border none
  font-family inherit
  font-size 1.5em
  font-weight 600
  display inline-table
  text-transform uppercase
  outline none
  vendor(transition, all 350ms)
  vendor(box-sizing, border-box)
  cursor pointer
  .image
    margin 0.5em
    border-radius 0.5em
    width 3em
    height 3em
    position absolute
    background-size cover
  .type
    margin-left 6.6em
    font-size 0.6em
    display inline
    opacity 0.6
  .name
    margin-left 5.25em
    font-size 0.75em
    display block
    opacity 0.85
    white-space nowrap
    overflow hidden
    text-overflow ellipsis
    max-width 17em
    padding-right 1em
  &:hover
    top 0
  &:active
    top 0.35em
#bubble
  z-index 10
  opacity 0
  vendor(transition, opacity 350ms)
  pos(50, 32.5, center middle, 10vw, 10vw)
  border-radius 100vw
  background-size cover
  background-position center center
#prompt
  pos(50, 20, center middle, 100%, 5vh)
  font-size 5vh
  vendor(transition, all 350ms)
#container
  pos(50, 45, top middle, 100%, 55vh)
  vendor(box-sizing, border-box)
  padding 1em
  opacity 0
#stationAdder
  display none
  opacity 0
  z-index 3
  pos(0, 0, left top, 100%, 100%)
  vendor(transition, opacity 350ms)
  &.visible
    opacity 1
  &.choose
    #container
      vendor(transition, margin-top 350ms)
      opacity 1
      height auto
    .fancyInput,#cancel
      top -30%
      .caret, input
        display none
    #clip
      position fixed
      overflow hidden
      width 100%
      height 100%
      clip rect(45vh 100vw 100vh 0vw)
  &.done
    #bubble
      opacity 1
    #prompt,#minus
      opacity 0
    .fancyInput
      top 35%
      .caret,input
        display none
    #loading
      opacity 1

body
  &.light
    .fancyInput
      background rgba(0, 0, 0, 0.4)
      box-shadow 0px 0.05em rgba(0, 0, 0, 0.4)
    #prompt
      color rgba(255, 255, 255, 0.4)
    .card
      background rgba(0, 0, 0, 0.25)
      vendor(box-shadow, 0 0.2em rgba(0, 0, 0, 0.4))
      &:hover
        vendor(box-shadow, 0 0.35em rgba(0, 0, 0, 0.4))
      &:active
        background rgba(0, 0, 0, 0.325)
        vendor(box-shadow, 0 0em rgba(0, 0, 0, 0.4))
    .caret
      background #FFF
    #minus
      border-color #FFF
      &:after
        background #FFF
  &.dark
    .fancyInput
      background rgba(255, 255, 255, 0.4)
      box-shadow 0px 0.05em rgba(255, 255, 255, 0.4)
    #prompt
      color rgba(0, 0, 0, 0.4)
    .card
      background rgba(255, 255, 255, 0.25)
      vendor(box-shadow, 0 0.2em rgba(255, 255, 255, 0.4))
      &:hover
        vendor(box-shadow, 0 0.35em rgba(255, 255, 255, 0.4))
      &:active
        background rgba(255, 255, 255, 0.325)
        vendor(box-shadow, 0 0em rgba(255, 255, 255, 0.4))
    .caret
      background #000
    #minus
      border-color #000
      &:after
        background #000

.fancyInput
  vendor(transition, all 350ms)
  pos(50, 50, middle center, 100vw, 20vh)
  font-size 20vh
  font-family inherit
  display inline-block
  white-space nowrap
  &::-webkit-input-placeholder,
  &:-moz-placeholder,
  &::-moz-placeholder,
  &:-ms-input-placeholder
    color transparent
  input
    text-align center
    font inherit
    height 100%
    color transparent
    position absolute
    z-index 2
    width 100% !important
    border 0
    outline 0
    top 0
    left 0
    background none
    padding inherit
    padding-bottom 0
    padding-right 0
    vendor(box-sizing, border-box)
  input:focus ~ div.empty:before
    opacity 0.1
  *:focus ~ .caret,*:focus ~ div .caret
    opacity 1
  .caret
    opacity 0.75
    display inline-block
    width 0.1em
    margin-left 0.1em
    -moz-user-select none
    height 100% !important
    vendor(animation, blink 1060ms ease-in-out infinite)
  span:not(.deleted) ~ .caret
    position absolute
  > div
    span
      vendor(transition, 100ms cubic-bezier(0, 0.6, 0.55, 1.4))
      display inline-block
      position relative
    .deleted
      opacity 0
      vendor(transition, 140ms)
    height 20vh
    display inline-block
    position relative
    &:before
      opacity 0
      content attr(data-placeholder)
      position absolute
    &.empty :before
      opacity 0.2
      left 0
  > input[type=password] + div span:empty::after
    content '●'
    display inline