@import('utils')

@keyframes blink
  0%
    opacity 1
  50%
    opacity 0
  100%
    opacity 1
@keyframes unblink
  0%
    opacity 1
  50%
    opacity 0
  100%
    opacity 1

.view,.subview
  display none
  opacity 0
  z-index 3
  pos(0, 0, left top, 100%, 100%)
  vendor(transition, opacity 350ms)
  position fixed
  &.visible
    opacity 1
#player
  height 100%
#searchSong,#filterBtn
  position absolute
  margin auto
  top calc(2.5vw + 1.5em)
  width 5em
  z-index 1
#searchSong
  left 2.5vw
#filterBtn
  right 2.5vw
#stations
  pos(2.5, 50, middle left, 5em, 5em)
#songs
  pos(97.5, 50, middle right, 5em, 5em)
  height 5em
#loading
  z-index 3
  background-color #D8D8D8
  color #333
  top 0
  left 0
  width 100%
  height 100%
  position absolute
  #version,#echonest
    position fixed
    font-style italic
  #version
    left 15px
    top 10px
    font-size 80%
  #echonest
    right 15px
    bottom 10px
    font-size 75%
  #meshText
    pos(50, 37.5, middle center, auto, 0)
    font-size 5em
  #caption
    pos(50, 52.5, middle center, auto, 0)
    font-size 3.5em
  #loadLogo
    pos(50, 25, middle center, 25vh, 25vh)
  #centerText
    pos(50, 75, middle center, auto, 0)
    font-size 3em
  #leftText
    pos(4, 98, left bottom, auto, auto)
    left 4em
    bottom 2em
  #rightText
    pos(96, 98, right bottom, auto, auto)
    right 4em
    bottom 2em
  .name
    font-size 2.0em
  .cap
    font-size 1.5em
#background
  venfor(transform, translate3d(0px, 0px, 0px))
  width 100%
  height 100%
  z-index 0
  background none
  margin auto
  top 0
  bottom 0
  left inherit
  right inherit
  position fixed
.frost
  width 100%
  height 100%
  background-size cover
  background-position center
  vendor(transform, translate3d(0, 0, 0))
  position absolute
  -webkit-filter blur(96px) !important
  filter blur(96px) !important
#nextFrost
  display none
  opacity 0
  z-index 2
#controls
  pos(50, 75, middle top, 50vh, 3.5em)
  vendor(box-sizing, border-box)
#next
  pos(95, 50, right middle, 2.25em, 2.25em)
#back
  pos(5, 50, left middle, 2.25em, 2.25em)
#dislike,#undislike
  pos(30, 50, center middle, 2.25em, 2.25em)
#like,#unlike
  pos(70, 50, center middle, 2.25em, 2.25em)
#download
  left   5vh
  top    5vh
  width  2.25em
  height 2.25em
  position absolute
#play,#pause
  pos(50, 50, center middle, 2.25em, 2.25em)
.hidden
  opacity 0
  z-index -1
#search
  display none
  position absolute
  right 2.5vw
  width 22.5%
  top 2.5vw
  text-align left
  margin 0
  padding 0.25em 0.5em
  font-size 2em
  font-family inherit
  font-weight 800
  border solid 0.1em
  opacity 0.6
  color inherit
#sag
  pos(50, 25, bottom middle, 100vw, 12.5%)
  display table
#sagText
  display table-cell
  font-size 1.25em
  vertical-align middle
  text-align center
.albumPos
  pos(50, 50, middle center, 50vh, 50vh)
  border-radius 1em
#album
  background-size cover
  z-index 2
#lockOverlay
  z-index 3
  opacity 0
  vendor(transition, '400ms opacity, 400ms background-color')
#ellipsis
  pos(50, 50, middle center, 85%, 85%)
  pointer-events none
#scUp
  pos(50, 0, middle top, 100%, 20%)
  top 12.125em
#scDown
  pos(50, 100, middle bottom, 100%, 20%)
.sidr
  display none
  position fixed
  top 0
  height 100%
  z-index 10
  width 22.5em
  overflow hidden
  #scUp,#scDown
    pointer-events none
  .container
    width 100%
    height 100% !important
    position absolute
    overflow-y scroll
    overflow-x hidden
    overflow-y -moz-hidden-unscrollable
    &::-webkit-scrollbar
      display none
  .station + .slimScrollDiv
    height calc(100% - 12.125em) !important
#stat
  left -22.5em
  .container
    vendor(box-shadow, inset -1.1em 0.8em 1.25em -1em #000)
  &::before
    vendor(box-shadow, inset -1.05em 0em 1.5em -1.4em #000)
    content ''
    top 0
    height 12.125em
    width 100%
    position absolute
#song
  right -22.5em
  .container
    vendor(box-shadow, inset 1.1em 0 1.25em -1em #000)
#feedbackBtn,#feedbackIcon
  width  2.25em
  height 2.25em
  right  5vh
  top    5vh
  position absolute
#volume
  height 20%
  width 15%
  bottom 5%
  right 5%
  position absolute
  vendor(mask, linear-gradient(
    transparent  5%, #000  5%, #000 15%, transparent 15%,
    transparent 25%, #000 25%, #000 35%, transparent 35%,
    transparent 45%, #000 45%, #000 55%, transparent 55%,
    transparent 65%, #000 65%, #000 75%, transparent 75%,
    transparent 85%, #000 85%, #000 95%, transparent 95%
  ))
.header
  text-align center
  padding 5vw 0
  margin 0
  font-size 4em
  vendor(box-shadow, 0 0 0.25em 0 black)
.clickable
  cursor pointer
  cursor hand
.slimScrollBar:hover
  opacity 0.3 !important
.station,.song > div
  cursor pointer
  cursor hand
  width 7.875em
  height 7.875em
  background-position-x center
  box-sizing border-box
  background-size 0
  padding 0.5em
  &.current
    font-weight 400
.station
  z-index 3
  border-radius 50%
  &:not(.add) div
    vendor(transition, background-size 150ms)
  &:hover:not(.add):not(.nowPlaying) div
    background-size 125% 125%
  &:nth-child(2)
    margin-top 13.5em
    &::before
      margin-top 10rem
      padding-top 15px
      content 'Add Station'
      position absolute
      top   0
      left  0
      right 0
      width 100%
      text-align center
      font-size 1.25em
      pointer-events none
  &:last-child
    margin-bottom 3.5em
  &.add 
    font-size 6.75em
    margin-top 0
    position absolute
    left 0
    right 0
    top 3rem
    &::before
      font-size 0.7em
      line-height 6.75rem
      content '\e602'
  &.current:not(.nowPlaying)
    margin-bottom 4.5em
    &::after
      content "Now Playing\a" attr(title)
      white-space pre
  margin 3.5em auto 0 auto
  span:not(.inline)
    font-size 4em
    box-shadow 0 0 3px
    vendor(transition, "margin 150ms, opacity 150ms ease-out")
    z-index -1
    opacity 0
    position absolute
    border-radius inherit
    margin-top 0.36em
    vendor(box-sizing, border-box)
    &.left
      margin-lfet 0.375em
      &::before
        content '\e600'
        font-size 0.7em
        line-height 4rem
    &.right
      margin-right 0.375em
  &:hover
    span:not(.inline)
      &.left
        margin-left -1.5em
      &.right
        margin-right -1.5em
      opacity 1
      z-index 1
  div
    background inherit
    background-size 100% 100%
    background-position center
    width 100%
    height 100%
    border-radius 50%
    &::after
      width 100%
      height 100%
      background-color #444
      opacity 0.4
      border-radius 50%
      content ''
      display block
    &::before
      content ''
      width 22.5em
      left 0
      height 7.875em
      position absolute
      cursor default
      z-index 0
  &.current > div::after
    opacity 0
  &::after
    text-align center
    position absolute
    font-size 1.25em
    margin 15px auto 0 auto
    left 0
    right 0
  &:not(.nowPlaying)::after
    content attr(title)
.song
  left 0
  right 0
  margin-top 2em
  vendor(transition, margin 350ms ease)
  &.next
    filter url('/img/filters.svg#grayscale')
    vendor(filter, grayscale(100%))
    opacity 0.95
  &:last-child
    margin-bottom 2em
  .inline
    vendor(transform, translate(4em, 0))
    vendor(transition, transform 350ms ease-out)
    position absolute
    display inline
    width 1em
    height 1em
    font-size 3.5em
    display none !important //Not Done Yet
  .inline.iLike, .inline.iDislike
    left 3em
    padding-right 0.15em
    padding-left 0.55em
  .inline.iInfo, .inline.iRemove
    right 0em
    padding-left 0.15em
    padding-right 0.6em
  .inline.iLike, .inline.iInfo
    margin-top -2.25em
  .inline.iDislike, .inline.iRemove
    margin-top -1.00em
  span:not(.inline)
    width 11.25em
    position relative
    span
      display table
      position absolute
      margin-bottom 1.5em
      padding-top 1.5em
      width 22.5em
      height auto
      opacity 0
      text-align center
      pointer-events none
      vendor(transition, opacity 400ms ease-in 50ms)
  div
    vendor(transition, inherit)
    margin 0 7.3125em
    &::after
      width 100%
      height 100%
      display block
      background inherit
      background-size cover
      content ''
  &:hover
    margin-bottom 6em
    div
      margin 0 19em 0 3.25em
      vendor(transition, margin 400ms ease 50ms)
    .inline
      vendor(transform, translate(0, 0))
    span:not(.inline)
      opacity 1
      pointer-events all
      vendor(transition, opacity 350ms cubic-bezier(0.42, 1, 1, 1))
.nowPlaying
  margin 1.25em auto 3em !important
  cursor default
  vendor(transition, background-image 150ms)
  div::before
    top 0
    height 12.5em
  &::after
    pointer-events none
    content 'Now Playing'
    vendor(animation, unblink 300ms)
  &.showName::after
    content attr(title)
  &:hover::after
    vendor(animation, blink 700ms)
  .no-animation
    vendor(animation, none)
#progress
  pos(0, 0, top left, 100%, 0.2em)
  vendor(box-shadow, 0 0 0.75em 0 #000)
  overflow hidden
  z-index 3
  height 1.5em
  opacity 0.75
  background none
  .noUi-origin
    vendor(transition, left 100ms linear)
  .noUi-handle
    width 1.5em
    height 1.5em
    border-radius 50%
    margin-left -0.75em
#optList
  font-size 4em
  padding 1em 0 0 1em
#optTitle
  font-size 5em
  text-align center
.optDesc
  font-size 0.5em
  padding 0.25em
  margin-bottom 1.5em
  white-space pre
.toggle
  padding-bottom 0.15em
  > span
    display inline-block
    vertical-align top
    padding-left 0.5em
  > input
    margin-left -9999px
    position absolute
    visibility hidden
    & + label
      display inline-block
      position relative
      cursor pointer
      outline none
      vendor(user-select, none)
      padding 3px
      width 2em
      height 1em
      vendor(border-radius, 1em)
      vendor(transition, 'border-color 350ms, background 350ms')
      border 4px solid 
      &::after
        border 4px solid
        margin-top 6px
        margin-left -3px
        left 11px
        width calc(1em - 20px)
        height calc(1em - 20px)
        vendor(border-radius, 50%)
        vendor(transition, 'margin 350ms, border-color 350ms, background 350ms')
        display block
        position absolute
        content ''
    &:checked + label::after      
      margin-left 1em
      border-color transparent !important
    &[disabled] + label
      cursor default
      &::after
        display none

body
  font-family 'icons', 'Geometria', 'Josefin Sans', 'Novecento Sans'
  letter-spacing -0.025em
  font-weight 300
  margin 0
  height 100% !important
  overflow hidden
  vendor(transition, color 400ms)
  &.light
    .toggle > input
      & + label
        background-color rgba(255, 255, 255, 0.04)
        border-color rgba(255, 255, 255, 0.27)
        &::after
          border-color rgba(255, 255, 255, 0.2)
      &:checked + label
        border-color rgba(255, 255, 255, 0.54)
        background-color rgba(255, 255, 255, 0.13)
        &::after
          background-color rgba(255, 255, 255, 0.4)
    .circular
      box-shadow 0 0 0 3px #FFF
    .card,.circleCard
      vendor(box-shadow, 0 0.2em rgba(0, 0, 0, 0.4))
      background-color rgba(0, 0, 0, 0.25)
      &:hover
        vendor(box-shadow, 0 0.35em rgba(0, 0, 0, 0.4))
      &:active
        background-color rgba(0, 0, 0, 0.325)
        vendor(box-shadow, 0 0em rgba(0, 0, 0, 0.4))
    .slimScrollBar,.circular::after
      background-color #FFF !important
    .slimScrollRail
      background-color #CCC !important
    .station span,.circledButton
      &:hover
        color #BBB
      &:active
        color #999
    color #FFF
    #progress
      .noUi-handle
        &:hover
          background-color #999
        &:active
          background-color #FFF
        background-color #DDD
      background-color #FFF
      .noUi-background
        background-color #000
    #noalbum
      background-color #D8D8D8
    #lockOverlay
      background-color rgba(0, 0, 0, 0.5)
    .station.current
      vendor(box-shadow, 0 0 0 0.15em #FFF)
    .station:not(.add):not(.current) div,.song:not(.current) div::after
      box-shadow 0 0 0 0.15em rgba(200, 200, 200, 0.5)
    .song.current div
      border 0.10em #FFF solid
    .song.next div
      border 0.10em #FFF dashed
  &.dark
    .toggle > input
      & + label
        background-color rgba(0, 0, 0, 0.04)
        border-color rgba(0, 0, 0, 0.27)
        &::after
          border-color rgba(0, 0, 0, 0.2)
      &:checked + label
        border-color rgba(0, 0, 0, 0.54)
        background-color rgba(0, 0, 0, 0.13)
        &::after
          background-color rgba(0, 0, 0, 0.4)
    .circular
      box-shadow 0 0 0 3px #000
    .card,.circleCard
      background-color rgba(255, 255, 255, 0.25)
      vendor(box-shadow, 0 0.2em rgba(255, 255, 255, 0.4))
      &:hover
        vendor(box-shadow, 0 0.35em rgba(255, 255, 255, 0.4))
      &:active
        background-color rgba(255, 255, 255, 0.325)
        vendor(box-shadow, 0 0em rgba(255, 255, 255, 0.4))
    .slimScrollBar,.circular::after
      background-color #000 !important
    .slimScrollRail
      background-color #333 !important
    .station span,.circledButton
      &:hover
        color #444
      &:active
        color #666
    .station:not(.add):not(.current) div,.song:not(.add):not(.current) div::after
      box-shadow 0 0 0 0.15em rgba(50, 50, 50, 0.5)
    color #000
    #progress
      .noUi-handle
        &:hover
          background-color #666
        &:active
          background-color #000
        background-color #222
      background-color #000
      .noUi-background
        background-color #FFF
    #noalbum
      background-color #444
    #lockOverlay
      background-color rgba(255, 255, 255, 0.5)
    .station.current
      vendor(box-shadow, 0 0 0 0.15em #000)
    .song.current div
      border 0.10em #000 solid
    .song.next div
      border 0.10em #000 dashed
      border-color #444
.circular
  height 1em
  width  1em
  vendor(transition, color 350ms)
  display inline-block
  border-radius 50%
  text-align center
  z-index 1
  &::before
    content attr(content)
    display block
    top 0
    left 0
    right 0
    bottom 0
    position absolute
    text-align center
    line-height 1em
  &::after
    vendor(transform, scale(0.7))
    vendor(transition, 'transform 200ms, opacity 350ms')
    vendor(box-sizing, content-box)
    opacity 0
    pointer-events none
    position absolute
    width 100%
    height 100%
    border-radius 50%
    content ''
    margin 0
    padding 2px
    top -2px
    left -2px
    z-index -1
  &:hover::after
    vendor(transform, scale(1))
    opacity 1
.minus
  z-index 1
  top 2.5vw
  left 2.5vw
  font-size 5em
  position absolute
  &::before
    content '\e603'

html.mobile
  #album,#noalbum
    width 66vmin
    height 66vmin
  #controls
    top 50%
    margin-top 33vmin
    width 66vmin
  body
    zoom 66%
      
.noUi-target, .noUi-target *
  vendor(touch-callout, none)
  vendor(user-select, none)
  vendor(touch-action, none)
  vendor(box-sizing, border-box)
.noUi-target
	position: relative
.noUi-base
	width 100%
	height 100%
	position relative
.noUi-origin
	position absolute
	right 0
	top 0
	left 0
	bottom 0
.noUi-handle
	position relative
	z-index 1;
	height 0.2em;
	width 1vh;
	margin-left -0.5vh
.noUi-stacking .noUi-handle
  z-index 10
.noUi-stacking + .noUi-origin
  *z-index -1
.noUi-state-tap .noUi-origin
	transition left 0.3s, top 0.3s
.noUi-state-drag *
	cursor inherit !important
.noUi-base
	vendor(translate, translate3d(0, 0, 0))

.wheel
  margin 0
  padding 0
  list-style none
  width  28.28427vh
  height 28.28427vh
  visibility hidden
  position relative
  li
    overflow hidden
    float left
    margin -0.875em 0.875em 0 0